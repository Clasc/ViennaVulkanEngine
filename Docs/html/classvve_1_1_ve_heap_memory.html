<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vienna Vulkan Engine: vve::VeHeapMemory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vienna Vulkan Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevve.html">vve</a></li><li class="navelem"><a class="el" href="classvve_1_1_ve_heap_memory.html">VeHeapMemory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classvve_1_1_ve_heap_memory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vve::VeHeapMemory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class manages fast cache memory for temporary data, e.g. handling handles in searches.  
 <a href="classvve_1_1_ve_heap_memory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_v_e_mem_heap_8h_source.html">VEMemHeap.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvve_1_1_ve_heap_memory_1_1_ve_mem_block.html">VeMemBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">One contiguous block of memory.  <a href="structvve_1_1_ve_heap_memory_1_1_ve_mem_block.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvve_1_1_ve_heap_memory_1_1_ve_pool.html">VePool</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A memory pool containing N suballocated blocks.  <a href="structvve_1_1_ve_heap_memory_1_1_ve_pool.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac95958c86808b795ea3ef111a3f3f417"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#ac95958c86808b795ea3ef111a3f3f417">VeHeapMemory</a> ()</td></tr>
<tr class="separator:ac95958c86808b795ea3ef111a3f3f417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6d5ce53e39259cd80e2660ac26a546"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#a5b6d5ce53e39259cd80e2660ac26a546">~VeHeapMemory</a> ()</td></tr>
<tr class="separator:a5b6d5ce53e39259cd80e2660ac26a546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7accbd99dc52a1d9d9ef38fd66ba1e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#ab7accbd99dc52a1d9d9ef38fd66ba1e0">print</a> ()</td></tr>
<tr class="memdesc:ab7accbd99dc52a1d9d9ef38fd66ba1e0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classvve_1_1_ve_heap_memory.html" title="This class manages fast cache memory for temporary data, e.g. handling handles in searches.">VeHeapMemory</a> class destructor.  <a href="#ab7accbd99dc52a1d9d9ef38fd66ba1e0">More...</a><br /></td></tr>
<tr class="separator:ab7accbd99dc52a1d9d9ef38fd66ba1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99d0ff0fd6303ee46fc948122ebced3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#aa99d0ff0fd6303ee46fc948122ebced3">clear</a> ()</td></tr>
<tr class="memdesc:aa99d0ff0fd6303ee46fc948122ebced3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears all memory allocations of all pools.  <a href="#aa99d0ff0fd6303ee46fc948122ebced3">More...</a><br /></td></tr>
<tr class="separator:aa99d0ff0fd6303ee46fc948122ebced3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92fe3241fd67516ebbacb2670140100a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#a92fe3241fd67516ebbacb2670140100a">allocate</a> (std::size_t size)</td></tr>
<tr class="memdesc:a92fe3241fd67516ebbacb2670140100a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public interface for allocating memory of this heap.  <a href="#a92fe3241fd67516ebbacb2670140100a">More...</a><br /></td></tr>
<tr class="separator:a92fe3241fd67516ebbacb2670140100a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee97b798f6c9c9df2f654d3062ba9156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#aee97b798f6c9c9df2f654d3062ba9156">deallocate</a> (void *p, std::size_t size)</td></tr>
<tr class="memdesc:aee97b798f6c9c9df2f654d3062ba9156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public interface for deallocating memory.  <a href="#aee97b798f6c9c9df2f654d3062ba9156">More...</a><br /></td></tr>
<tr class="separator:aee97b798f6c9c9df2f654d3062ba9156"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad1f8ca989670eac74023a168997b6f0a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structvve_1_1_ve_heap_memory_1_1_ve_pool.html">VePool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#ad1f8ca989670eac74023a168997b6f0a">m_pools</a></td></tr>
<tr class="memdesc:ad1f8ca989670eac74023a168997b6f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A vector containing all existing pools for this heap.  <a href="#ad1f8ca989670eac74023a168997b6f0a">More...</a><br /></td></tr>
<tr class="separator:ad1f8ca989670eac74023a168997b6f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a5b511316b5ee0d55f94f7205548cf4fd"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacevve.html#a1eb8d816d3112a806cbcd809004a5266">VeIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvve_1_1_ve_heap_memory.html#a5b511316b5ee0d55f94f7205548cf4fd">m_stdSize</a> = 1 &lt;&lt; 12</td></tr>
<tr class="memdesc:a5b511316b5ee0d55f94f7205548cf4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default size of one block.  <a href="#a5b511316b5ee0d55f94f7205548cf4fd">More...</a><br /></td></tr>
<tr class="separator:a5b511316b5ee0d55f94f7205548cf4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class manages fast cache memory for temporary data, e.g. handling handles in searches. </p>
<p><a class="el" href="classvve_1_1_ve_heap_memory.html" title="This class manages fast cache memory for temporary data, e.g. handling handles in searches.">VeHeapMemory</a> organizes memory allocations intrinsically, i.e. the management information is part of the allocated memory. Memory id allocated from system heap as large chunks called pools. In each pool, there can be suballocations as blocks of contiguous memory. At the head of each block, there is one <a class="el" href="structvve_1_1_ve_heap_memory_1_1_ve_mem_block.html" title="One contiguous block of memory.">VeMemBlock</a> struct. Freed blocks are linked into a free list and can be reused in O(1). If there is no free space in a pool, then first the pool runs a defragmentation operations, merging neigbouring free blocks into larger free blocks. If there is still no free space then the next pool is tried. If there is no memory available, then eventually a new pool is allocated that holds enough space. VeHeaps do not release their memory, but keep it until the end of the program. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac95958c86808b795ea3ef111a3f3f417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac95958c86808b795ea3ef111a3f3f417">&#9670;&nbsp;</a></span>VeHeapMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vve::VeHeapMemory::VeHeapMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>&lt; <a class="el" href="classvve_1_1_ve_heap_memory.html" title="This class manages fast cache memory for temporary data, e.g. handling handles in searches.">VeHeapMemory</a> class constructor </p>

</div>
</div>
<a id="a5b6d5ce53e39259cd80e2660ac26a546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6d5ce53e39259cd80e2660ac26a546">&#9670;&nbsp;</a></span>~VeHeapMemory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vve::VeHeapMemory::~VeHeapMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a92fe3241fd67516ebbacb2670140100a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92fe3241fd67516ebbacb2670140100a">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* vve::VeHeapMemory::allocate </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Public interface for allocating memory of this heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the memory block that should be allocated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the newly allocated memory </dd></dl>

</div>
</div>
<a id="aa99d0ff0fd6303ee46fc948122ebced3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99d0ff0fd6303ee46fc948122ebced3">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vve::VeHeapMemory::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears all memory allocations of all pools. </p>

</div>
</div>
<a id="aee97b798f6c9c9df2f654d3062ba9156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee97b798f6c9c9df2f654d3062ba9156">&#9670;&nbsp;</a></span>deallocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vve::VeHeapMemory::deallocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Public interface for deallocating memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>Pointer to the memory to be deallocated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab7accbd99dc52a1d9d9ef38fd66ba1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7accbd99dc52a1d9d9ef38fd66ba1e0">&#9670;&nbsp;</a></span>print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void vve::VeHeapMemory::print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classvve_1_1_ve_heap_memory.html" title="This class manages fast cache memory for temporary data, e.g. handling handles in searches.">VeHeapMemory</a> class destructor. </p>
<p>Print debug information for all pools </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad1f8ca989670eac74023a168997b6f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f8ca989670eac74023a168997b6f0a">&#9670;&nbsp;</a></span>m_pools</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structvve_1_1_ve_heap_memory_1_1_ve_pool.html">VePool</a>&gt; vve::VeHeapMemory::m_pools</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A vector containing all existing pools for this heap. </p>

</div>
</div>
<a id="a5b511316b5ee0d55f94f7205548cf4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b511316b5ee0d55f94f7205548cf4fd">&#9670;&nbsp;</a></span>m_stdSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacevve.html#a1eb8d816d3112a806cbcd809004a5266">VeIndex</a> vve::VeHeapMemory::m_stdSize = 1 &lt;&lt; 12</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default size of one block. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_v_e_mem_heap_8h_source.html">VEMemHeap.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Mar 30 2020 20:59:27 for Vienna Vulkan Engine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
